#pragma once

#include "SetValue.h"

//블럭의 전반적인 활돌을 관리하기 위해 구조체를 선언
typedef struct _block
{
	//블럭들의 형태과 회전경우에 따라 블럭의 모양설정
	int All_Block[Block_Shape][Block_Lotation][Block_Size][Block_Size] = {
		//첫 번째 블럭
		{
			{
				{0, 0, 0, 0},
				{0, 1, 1, 0},
				{0, 1, 1, 0},
				{0, 0, 0, 0}
			},
			{
				{0, 0, 0, 0},
				{0, 1, 1, 0},
				{0, 1, 1, 0},
				{0, 0, 0, 0}
			},
			{
				{0, 0, 0, 0},
				{0, 1, 1, 0},
				{0, 1, 1, 0},
				{0, 0, 0, 0}
			},
			{
				{0, 0, 0, 0},
				{0, 1, 1, 0},
				{0, 1, 1, 0},
				{0, 0, 0, 0}
			}
		},
		//두 번째 블럭
		{
			{
				{0, 0, 0, 0},
				{0, 0, 1, 0},
				{1, 1, 1, 0},
				{0, 0, 0, 0}
			},
			{
				{0, 1, 1, 0},
				{0, 0, 1, 0},
				{0, 0, 1, 0},
				{0, 0, 0, 0}
			},
			{
				{1, 1, 1, 0},
				{1, 0, 0, 0},
				{0, 0, 0, 0},
				{0, 0, 0, 0}
			},
			{
				{1, 0, 0, 0},
				{1, 0, 0, 0},
				{1, 1, 0, 0},
				{0, 0, 0, 0}
			}
		},
		//세 번째 블럭
		{
			{
				{0, 0, 0, 0},
				{1, 0, 0, 0},
				{1, 1, 1, 0},
				{0, 0, 0, 0}
			},
			{
				{0, 0, 1, 0},
				{0, 0, 1, 0},
				{0, 1, 1, 0},
				{0, 0, 0, 0}
			},
			{
				{1, 1, 1, 0},
				{0, 0, 1, 0},
				{0, 0, 0, 0},
				{0, 0, 0, 0}
			},
			{
				{1, 1, 0, 0},
				{1, 0, 0, 0},
				{1, 0, 0, 0},
				{0, 0, 0, 0}
			}
		},
		//네 번째 블럭
		{
			{
				{0, 1, 0, 0},
				{0, 1, 0, 0},
				{0, 1, 0, 0},
				{0, 1, 0, 0}
			},
			{
				{0, 0, 0, 0},
				{0, 0, 0, 0},
				{1, 1, 1, 1},
				{0, 0, 0, 0}
			},
			{
				{0, 1, 0, 0},
				{0, 1, 0, 0},
				{0, 1, 0, 0},
				{0, 1, 0, 0}
			},
			{
				{0, 0, 0, 0},
				{0, 0, 0, 0},
				{1, 1, 1, 1},
				{0, 0, 0, 0}
			}
		},
		//다섯 번째 블럭
		{
			{
				{0, 0, 0, 0},
				{0, 1, 0, 0},
				{1, 1, 1, 0},
				{0, 0, 0, 0}
			},
			{
				{0, 0, 0, 0},
				{0, 1, 0, 0},
				{1, 1, 0, 0},
				{0, 1, 0, 0}
			},
			{
				{0, 0, 0, 0},
				{0, 0, 0, 0},
				{1, 1, 1, 0},
				{0, 1, 0, 0}
			},
			{
				{0, 0, 0, 0},
				{0, 1, 0, 0},
				{0, 1, 1, 0},
				{0, 1, 0, 0}
			}
		},
		//여섯 번째 블럭
		{
			{
				{0, 0, 0, 0},
				{0, 1, 1, 0},
				{1, 1, 0, 0},
				{0, 0, 0, 0}
			},
			{
				{0, 1, 0, 0},
				{0, 1, 1, 0},
				{0, 0, 1, 0},
				{0, 0, 0, 0}
			},
			{
				{0, 0, 0, 0},
				{0, 1, 1, 0},
				{1, 1, 0, 0},
				{0, 0, 0, 0}
			},
			{
				{0, 1, 0, 0},
				{0, 1, 1, 0},
				{0, 0, 1, 0},
				{0, 0, 0, 0}
			}
		},
		//일곱 번째 블럭
		{
			{
				{0, 0, 0, 0},
				{1, 1, 0, 0},
				{0, 1, 1, 0},
				{0, 0, 0, 0}
			},
			{
				{0, 0, 1, 0},
				{0, 1, 1, 0},
				{0, 1, 0, 0},
				{0, 0, 0, 0}
			},
			{
				{0, 0, 0, 0},
				{1, 1, 0, 0},
				{0, 1, 1, 0},
				{0, 0, 0, 0}
			},
			{
				{0, 0, 1, 0},
				{0, 1, 1, 0},
				{0, 1, 0, 0},
				{0, 0, 0, 0}
			}
		}
	};

	int Block_X;
	int Block_Y;
	int CurrentBlock;
	int NextBlock;
	int Direction;
}Block;

void Block_MakeBlock(bool isFirst, Block* block);
void Block_MoveToRight(Block* block);
void Block_MoveToLeft(Block* block);
void Block_MoveToDown(Block* block);
void Block_RotateBlock(Block* block);